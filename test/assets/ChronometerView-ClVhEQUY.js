import{d as S,i as A,a as R,p as y,g as W,u as U,c as T,b as D,e as L,s as z,C as F}from"./ChronometerPlayer-4w8LBtSL.js";import{d as V,r as h,c as M,a as b,w as B,n as C,b as m,M as k,T as j,e as w,f as q,t as r,o as _,_ as g,m as G,u as N,g as f,v as E,h as x,i as p,j as I,k as n,l as t,p as H,q as $,s as J,F as K,x as O,y as Q}from"./index-Ck8vDu8Q.js";const X=["disabled"],Y=V({__name:"ConfirmButton",props:{disabled:{type:Boolean},icon:{},message:{},duration:{},position:{}},emits:["click"],setup(v,{emit:u}){const o=v,d=u,i=h(0),e=M(()=>i.value!==0),s=M(()=>o.position||"top");function l(){i.value?d("click"):i.value=setTimeout(()=>{i.value=0},o.duration??2e3)}return(a,c)=>(_(),b("button",{class:C(["confirm-button",{active:e.value}]),disabled:a.disabled,onClick:B(l,["stop"])},[m(k,{icon:a.icon??"delete"},null,8,["icon"]),m(j,null,{default:w(()=>[e.value?(_(),b("div",{key:0,class:C(["tooltip",s.value])},r(a.message),3)):q("",!0)]),_:1})],10,X))}}),Z=g(Y,[["__scopeId","data-v-afc95b1b"]]),ee=["min","max"],P=V({__name:"NumberSelection",props:G({min:{default:0},max:{default:60}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const u=N(v,"modelValue");return(o,d)=>f((_(),b("input",{type:"number","onUpdate:modelValue":d[0]||(d[0]=i=>u.value=i),min:o.min,max:o.max},null,8,ee)),[[E,u.value]])}}),oe={class:"duration-editor"},te=V({__name:"DurationEditor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(v){const u=N(v,"modelValue"),o=h(0),d=h(0),i=h(0);return x(u,(e=0)=>{i.value=e%60,d.value=Math.floor(e/60)%60,o.value=Math.floor(e/3600)},{immediate:!0}),x([o,d,i],()=>{u.value=o.value*3600+d.value*60+i.value}),(e,s)=>(_(),b("span",oe,[m(P,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),max:24},null,8,["modelValue"]),s[3]||(s[3]=p(" : ")),m(P,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=l=>d.value=l),max:59},null,8,["modelValue"]),s[4]||(s[4]=p(" : ")),m(P,{modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=l=>i.value=l),max:59},null,8,["modelValue"])]))}}),ae={class:"period-name"},ne={class:"period-duration"},le={class:"period-action"},se={value:"stop"},ie={value:"startNext"},de={value:"restart"},re={value:"continue"},ue={class:"period-options"},ce=["disabled"],me=["disabled"],pe=V({__name:"EditPeriod",props:{periodIndex:{},alone:{type:Boolean}},emits:["active"],setup(v,{emit:u}){const{t:o}=I(),d=v,i=u,e=h({...S}),s=M(()=>!0);return x(()=>d.periodIndex,()=>{const l=d.periodIndex,a=y.value[l];if(a){e.value={...a};return}e.value={...S,name:`period ${l+1}`,id:W()}},{immediate:!0}),x(()=>e.value.soundWarning,l=>{l&&(e.value.activateSound=!0)}),x(e,l=>{U(d.periodIndex,l)},{deep:!0}),(l,a)=>(_(),b("div",{class:"edit-timer",onClick:a[7]||(a[7]=B(c=>i("active"),["self"]))},[n("label",ae,[p(r(t(o)("label.periodName"))+" ",1),f(n("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>e.value.name=c)},null,512),[[E,e.value.name]])]),n("label",ne,[p(r(t(o)("label.periodDuration"))+" ",1),m(te,{modelValue:e.value.duration,"onUpdate:modelValue":a[1]||(a[1]=c=>e.value.duration=c)},null,8,["modelValue"])]),n("label",le,[p(r(t(o)("label.periodAction"))+" ",1),f(n("select",{"onUpdate:modelValue":a[2]||(a[2]=c=>e.value.endEffect=c)},[n("option",se,r(t(o)("chronometer.actionStop")),1),n("option",ie,r(t(o)("chronometer.actionStartNext")),1),n("option",de,r(t(o)("chronometer.actionRepeat")),1),n("option",re,r(t(o)("chronometer.actionContinue")),1)],512),[[H,e.value.endEffect]])]),n("fieldset",ue,[n("legend",null,r(t(o)("chronometer.warningTitle")),1),n("label",{disabled:!t(A)},[f(n("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=c=>e.value.activateVibration=c),disabled:!e.value.activateVibration&&!s.value},null,8,me),[[$,e.value.activateVibration]]),p(" "+r(t(o)("chronometer.activateVibration")),1)],8,ce),n("label",null,[f(n("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=c=>e.value.activateSound=c)},null,512),[[$,e.value.activateSound]]),p(" "+r(t(o)("chronometer.activateSound")),1)]),n("label",{class:C({disabled:!e.value.activateSound})},[f(n("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=c=>e.value.soundWarning=c)},null,512),[[$,e.value.soundWarning]]),p(" "+r(t(o)("chronometer.activateBeepWarning")),1)],2)]),m(Z,{class:"period-delete btn-small",disabled:l.alone,message:t(o)("chronometer.deletePeriodConfirm"),position:"left",onClick:a[6]||(a[6]=c=>t(R)(l.periodIndex))},null,8,["disabled","message"])]))}}),ve=g(pe,[["__scopeId","data-v-0f9aee41"]]),_e={class:"chronometer-editor"},be={class:"chronometer-editor__container"},fe={class:"primary-btn"},Ve=["disabled"],he=V({__name:"TimerTool",setup(v){const{t:u}=I();function o(){U(-1)}return(d,i)=>{const e=J("RouterLink");return _(),b("main",_e,[n("div",be,[m(e,{to:"/chronometer"},{default:w(()=>[n("button",fe,[m(k,{icon:"size"}),p(" "+r(t(u)("chronometer.fullscreenPlayer")),1)])]),_:1}),(_(!0),b(K,null,O(t(y),(s,l)=>(_(),Q(ve,{class:C({active:s.id===t(L).id}),"period-index":l,alone:t(y).length===1,key:`edit-period-${s.id}`,onActive:a=>t(z)(l)},null,8,["class","period-index","alone","onActive"]))),128)),n("button",{class:"primary-btn",onClick:o},[m(k,{icon:"add"}),p(" "+r(t(u)("chronometer.addPeriod")),1)]),n("button",{class:"default-btn",disabled:t(D),onClick:i[0]||(i[0]=(...s)=>t(T)&&t(T)(...s))},[m(k,{icon:"delete"}),p(" "+r(t(u)("chronometer.clearPeriods")),1)],8,Ve)])])}}}),xe=g(he,[["__scopeId","data-v-78486a2a"]]),ke={class:"container editor-page"},Ce=V({__name:"ChronometerView",setup(v){const{t:u}=I();return(o,d)=>(_(),b("div",ke,[n("h1",null,r(t(u)("chronometer.settingsTitle")),1),m(F),m(xe)]))}}),Pe=g(Ce,[["__scopeId","data-v-600f3e0e"]]);export{Pe as default};
