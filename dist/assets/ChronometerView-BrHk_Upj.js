import{d as S,i as z,v as A,b as R,a as W,c as D,p as T,g as L,u as B,e as U,f as F,h as j,s as q,C as G}from"./ChronometerPlayer-DooQoCWg.js";import{d as x,r as C,c as M,a as f,w as k,n as $,b as c,M as _,T as H,e as w,f as J,t as u,o as b,_ as g,m as K,u as N,g as V,v as E,h,i as p,j as I,k as a,l as t,p as O,q as y,s as Q,F as X,x as Y,y as Z}from"./index-DsAGCeld.js";const ee=["disabled"],oe=x({__name:"ConfirmButton",props:{disabled:{type:Boolean},icon:{},message:{},duration:{},position:{}},emits:["click"],setup(v,{emit:m}){const n=v,r=m,i=C(0),o=M(()=>i.value!==0),l=M(()=>n.position||"top");function s(){i.value?r("click"):i.value=setTimeout(()=>{i.value=0},n.duration??2e3)}return(e,d)=>(b(),f("button",{class:$(["confirm-button",{active:o.value}]),disabled:e.disabled,onClick:k(s,["stop"])},[c(_,{icon:e.icon??"delete"},null,8,["icon"]),c(H,null,{default:w(()=>[o.value?(b(),f("div",{key:0,class:$(["tooltip",l.value])},u(e.message),3)):J("",!0)]),_:1})],10,ee))}}),te=g(oe,[["__scopeId","data-v-afc95b1b"]]),ne=["min","max"],P=x({__name:"NumberSelection",props:K({min:{default:0},max:{default:60}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const m=N(v,"modelValue");return(n,r)=>V((b(),f("input",{type:"number","onUpdate:modelValue":r[0]||(r[0]=i=>m.value=i),min:n.min,max:n.max},null,8,ne)),[[E,m.value]])}}),ae={class:"duration-editor"},se=x({__name:"DurationEditor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(v){const m=N(v,"modelValue"),n=C(0),r=C(0),i=C(0);return h(m,(o=0)=>{i.value=o%60,r.value=Math.floor(o/60)%60,n.value=Math.floor(o/3600)},{immediate:!0}),h([n,r,i],()=>{m.value=n.value*3600+r.value*60+i.value}),(o,l)=>(b(),f("span",ae,[c(P,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=s=>n.value=s),max:24},null,8,["modelValue"]),l[3]||(l[3]=p(" : ")),c(P,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=s=>r.value=s),max:59},null,8,["modelValue"]),l[4]||(l[4]=p(" : ")),c(P,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=s=>i.value=s),max:59},null,8,["modelValue"])]))}}),le={class:"period-name"},ie={class:"period-duration"},de={class:"period-action"},re={value:"stop"},ue={value:"startNext"},ce={value:"restart"},me={value:"continue"},pe={class:"period-options"},ve=["disabled"],be=["disabled"],fe=x({__name:"EditPeriod",props:{periodIndex:{},alone:{type:Boolean}},emits:["active"],setup(v,{emit:m}){const{t:n}=I(),r=v,i=m,o=C({...S}),l=M(()=>!0);return h(()=>r.periodIndex,()=>{const s=r.periodIndex,e=T.value[s];if(e){o.value={...e};return}o.value={...S,name:`period ${s+1}`,id:L()}},{immediate:!0}),h(()=>o.value.soundWarning,s=>{s&&(o.value.activateSound=!0)}),h(o,s=>{B(r.periodIndex,s)},{deep:!0}),(s,e)=>(b(),f("div",{class:"edit-timer",onClick:e[10]||(e[10]=k(d=>i("active"),["self"]))},[a("label",le,[p(u(t(n)("label.periodName"))+" ",1),V(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=d=>o.value.name=d)},null,512),[[E,o.value.name]])]),a("label",ie,[p(u(t(n)("label.periodDuration"))+" ",1),c(se,{modelValue:o.value.duration,"onUpdate:modelValue":e[1]||(e[1]=d=>o.value.duration=d)},null,8,["modelValue"])]),a("label",de,[p(u(t(n)("label.periodAction"))+" ",1),V(a("select",{"onUpdate:modelValue":e[2]||(e[2]=d=>o.value.endEffect=d)},[a("option",re,u(t(n)("chronometer.actionStop")),1),a("option",ue,u(t(n)("chronometer.actionStartNext")),1),a("option",ce,u(t(n)("chronometer.actionRepeat")),1),a("option",me,u(t(n)("chronometer.actionContinue")),1)],512),[[O,o.value.endEffect]])]),a("fieldset",pe,[a("legend",null,u(t(n)("chronometer.warningTitle")),1),a("label",{disabled:!t(z)},[V(a("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=d=>o.value.activateVibration=d),disabled:!o.value.activateVibration&&!l.value},null,8,be),[[y,o.value.activateVibration]]),p(" "+u(t(n)("chronometer.activateVibration"))+" ",1),c(_,{icon:"play",size:10,class:"demo-effect",onClick:e[4]||(e[4]=k(d=>t(A)(),["stop","prevent"]))})],8,ve),a("label",null,[V(a("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=d=>o.value.activateSound=d)},null,512),[[y,o.value.activateSound]]),p(" "+u(t(n)("chronometer.activateSound"))+" ",1),c(_,{icon:"play",size:10,class:"demo-effect",onClick:e[6]||(e[6]=k(d=>t(R)(),["stop","prevent"]))})]),a("label",{class:$({disabled:!o.value.activateSound})},[V(a("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=d=>o.value.soundWarning=d)},null,512),[[y,o.value.soundWarning]]),p(" "+u(t(n)("chronometer.activateBeepWarning"))+" ",1),c(_,{icon:"play",size:10,class:"demo-effect",onClick:e[8]||(e[8]=k(d=>t(W)(),["stop","prevent"]))})],2)]),c(te,{class:"period-delete btn-small",disabled:s.alone,message:t(n)("chronometer.deletePeriodConfirm"),position:"left",onClick:e[9]||(e[9]=d=>t(D)(s.periodIndex))},null,8,["disabled","message"])]))}}),_e=g(fe,[["__scopeId","data-v-eebd59a7"]]),Ve={class:"chronometer-editor"},xe={class:"chronometer-editor__container"},ke={class:"primary-btn"},Ce=["disabled"],he=x({__name:"TimerTool",setup(v){const{t:m}=I();function n(){B(-1)}return(r,i)=>{const o=Q("RouterLink");return b(),f("main",Ve,[a("div",xe,[c(o,{to:"/chronometer"},{default:w(()=>[a("button",ke,[c(_,{icon:"size"}),p(" "+u(t(m)("chronometer.fullscreenPlayer")),1)])]),_:1}),(b(!0),f(X,null,Y(t(T),(l,s)=>(b(),Z(_e,{class:$({active:l.id===t(j).id}),"period-index":s,alone:t(T).length===1,key:`edit-period-${l.id}`,onActive:e=>t(q)(s)},null,8,["class","period-index","alone","onActive"]))),128)),a("button",{class:"primary-btn",onClick:n},[c(_,{icon:"add"}),p(" "+u(t(m)("chronometer.addPeriod")),1)]),a("button",{class:"default-btn",disabled:t(F),onClick:i[0]||(i[0]=(...l)=>t(U)&&t(U)(...l))},[c(_,{icon:"delete"}),p(" "+u(t(m)("chronometer.clearPeriods")),1)],8,Ce)])])}}}),$e=g(he,[["__scopeId","data-v-78486a2a"]]),ge={class:"container editor-page"},ye=x({__name:"ChronometerView",setup(v){const{t:m}=I();return(n,r)=>(b(),f("div",ge,[a("h1",null,u(t(m)("chronometer.settingsTitle")),1),c(G),c($e)]))}}),Me=g(ye,[["__scopeId","data-v-600f3e0e"]]);export{Me as default};
